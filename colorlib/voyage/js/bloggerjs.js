var config={postsDatePrefix:false,accessOnly:false,useApiV3:false,apiKey:"YOUR-API-KEY-HERE"};var postsOrPages=["pages","posts"],blogId="<data:blog.blogId/>",urlTotal,fetchIndex=1,ampChar="&amp;"[0],secondRequest=true,feedPriority=0,nextPageToken;function urlVal(){var b=window.location.pathname;var c=b.length;var a=b.substring(c-5);if(a===".html"){return 0}else{if(c>1){return 1}else{return 2}}}function urlMod(){var a=window.location.pathname;if(a.substring(1,2)==="p"){a=a.substring(a.indexOf("/",1)+1);a=a.substr(0,a.indexOf(".html"));history.replaceState(null,null,"../"+a)}else{if(!config.postsDatePrefix){a=a.substring(a.indexOf("/",7)+1)}else{a=a.substring(1)}a=a.substr(0,a.indexOf(".html"));history.replaceState(null,null,"../../"+a)}}function urlSearch(a,b){var c=a+".html";b.forEach(function(e){var d=e.search(c);if(d!==-1){window.location=e}})}function urlManager(){var a=urlVal();if(a===0){if(!config.accessOnly){urlMod()}}else{if(a===1){fetchData(postsOrPages[feedPriority],1)}else{if(a===2){if(!config.accessOnly){history.replaceState(null,null,"/")}}}}}function fetchData(d,b){var a=document.createElement("script");if(config.useApiV3){var c="https://www.googleapis.com/blogger/v3/blogs/"+blogId+"/"+d+"?key="+config.apiKey+"#maxResults=500#fields=nextPageToken%2Citems(url)#callback=parseData";if(nextPageToken){c+="#pageToken="+nextPageToken}nextPageToken=undefined}else{var c=window.location.protocol+"//"+window.location.hostname+"/feeds/"+d+"/summary?start-index="+b+"#max-results=150#orderby=published#alt=json-in-script#callback=parseData"}c=c.replace(/#/g,ampChar);a.type="text/javascript";a.src=c;document.getElementsByTagName("head")[0].appendChild(a)}function parseData(a){var b=[];if(!config.useApiV3){if(!urlTotal){urlTotal=parseInt(a.feed.openSearch$totalResults.$t)}try{a.feed.entry.forEach(function(e,d){var f=a.feed.entry[d];f.link.forEach(function(h,g){if(f.link[g].rel==="alternate"){b.push(f.link[g].href)}})})}catch(c){}}else{try{a.items.forEach(function(e,d){b.push(e.url)})}catch(c){}nextPageToken=a.nextPageToken}urlSearch(window.location.pathname,b);if(urlTotal>150){fetchIndex+=150;urlTotal-=150;fetchData(postsOrPages[feedPriority],fetchIndex)}else{if(nextPageToken){fetchData(postsOrPages[feedPriority])}else{if(secondRequest){nextPageToken=undefined;urlTotal=0;fetchIndex=1;secondRequest=false;if(feedPriority===0){feedPriority=1;fetchData("posts",1)}else{if(feedPriority===1){feedPriority=0;fetchData("pages",1)}}}}}}function bloggerJS(a){if(a){feedPriority=a}urlManager()}bloggerJS();
