(function(a){a.HSCore.components.HSGoTo={_baseConfig:{},pageCollection:a(),init:function(b,c){this.collection=b&&a(b).length?a(b):a();if(!a(b).length){return}this.config=c&&a.isPlainObject(c)?a.extend({},this._baseConfig,c):this._baseConfig;this.config.itemSelector=b;this.initGoTo();return this.pageCollection},initGoTo:function(){var c=this,b=c.pageCollection;this.collection.each(function(k,g){var n=a(g),h=n.data("target"),d=Boolean(n.data("is-referenced-to-page")),o=n.data("type"),e=n.data("show-effect"),p=n.data("hide-effect"),l=JSON.parse(g.getAttribute("data-position")),j=a(n.data("compensation")).outerHeight(),f=n.data("offset-top"),m=function(){if(j){return h?a(h).offset().top-j:0}else{return h?a(h).offset().top:0}};if(o==="static"){n.css({display:"inline-block"})}else{n.addClass("animated").css({display:"inline-block",position:o,opacity:0})}if(o==="fixed"||o==="absolute"){n.css(l)}n.on("click",function(i){if(!d){i.preventDefault();a("html, body").stop().animate({scrollTop:m()},800)}});if(!n.data("offset-top")&&!n.hasClass("js-animation-was-fired")&&o!=="static"){if(n.offset().top<=a(window).height()){n.show();setTimeout(function(){n.addClass("js-animation-was-fired "+e).css({opacity:""})})}}if(o!=="static"){a(window).on("scroll",function(){clearTimeout(a.data(this,"scrollTimer"));if(n.data("offset-top")){if(a(window).scrollTop()>=f&&!n.hasClass("js-animation-was-fired")){n.show();setTimeout(function(){n.addClass("js-animation-was-fired "+e).css({opacity:""})})}else{if(a(window).scrollTop()<=f&&n.hasClass("js-animation-was-fired")){a.data(this,"scrollTimer",setTimeout(function(){n.removeClass("js-animation-was-fired "+e);setTimeout(function(){n.addClass(p).css({opacity:0})},100);setTimeout(function(){n.removeClass(p).hide()},400)},500))}}}else{var i=n.offset().top;if(!n.hasClass("js-animation-was-fired")){if(a(window).scrollTop()>=i-a(window).height()){n.show();setTimeout(function(){n.addClass("js-animation-was-fired "+e).css({opacity:""})})}}}});a(window).trigger("scroll")}b=b.add(n)})}}})(jQuery);
